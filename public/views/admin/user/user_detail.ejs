<!DOCTYPE html>
<html lang="en">
<head>
    <title>User detail</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>
<body>
<div style="display: flex">
    <%- include('../../partials/sidebar')%>
    <div class="detail-box">
        <div style="text-align: center"><h2 >User detail</h2></div>
        <form action="/update" method="post">
            <div class="form-group">
                <label>Id:</label>
                <input type="text" class="form-control"
                       value="<%= user.id %>"
                       disabled>
            </div>
            <div class="form-group">
                <label>Username:</label>
                <input type="text" class="form-control"
                       value="<%= user.username %>"
                       disabled>
            </div>
            <div class="form-group">
                <label>Email:</label>
                <input type="email" class="form-control"
                       value="<%= user.email %>"
                       disabled>
            </div>
            <div class="form-group">
                <label>Role:</label>
                <input type="text" class="form-control"
                       value="<%= user.role %>"
                       disabled>
            </div>
            <div class="form-group">
                <label>Status:</label>
                <input type="text" class="form-control"
                       value="<%= user.status %>"
                       disabled>
            </div>
            <div class="form-group">
                <label>Last login:</label>
                <input type="text" class="form-control"
                       value="<%= user.lastLogin.toLocaleString() %>"
                       disabled>
            </div>
            <% if (user['profile']) { %>
                <div class="form-group">
                    <details>
                        <summary>Profile</summary>
                        <div class="form-group">
                            <label>Fullname:</label>
                            <input type="text" class="form-control"
                                   value="<%= user['profile'].fullName %>"
                                   disabled>
                            <label>Phone:</label>
                            <input type="text" class="form-control"
                                   value="<%= user['profile'].phone %>"
                                   disabled>
                            <label>Birthday:</label>
                            <input type="text" class="form-control"
                                   value="<%= user['profile'].birthday %>"
                                   disabled>
                            <label>Gender:</label>
                            <input type="text" class="form-control"
                                   value="<%= user['profile'].gender %>"
                                   disabled>
                            <label>Address:</label>
                            <input type="text" class="form-control"
                                   value="<%= user['profile'].address %>"
                                   disabled>
                        </div>
                    </details>
                </div>
            <% } %>
            <% if (user['orders'].length !== 0) { %>
                <select id="order" onchange="renderOrder(event)">
                    <option value="none" selected disabled>Select
                        an order to view
                    </option>
                    <% user['orders'].forEach(function(order) { %>
                        <option id="order-check" value="<%= JSON.stringify
                        (order) %>">Order
                            <%= order.id
                            %></option>
                    <% }) %>
                </select>
                <div class="form-group">
                    <label>Id:</label>
                    <input id="order-id" type="text" class="form-control"
                           disabled>
                    <label>Payment method:</label>
                    <input id="order-paymentMethod" type="text" class="form-control"
                           disabled>
                    <label>Total amount:</label>
                    <input id="order-totalAmount" type="text" class="form-control"
                           disabled>
                    <label>Status:</label>
                    <input id="order-status" type="text" class="form-control"
                           disabled>
                    <label>Payment status:</label>
                    <input id="order-paymentStatus" type="text" class="form-control"
                           disabled>
                    <label>Order date:</label>
                    <input id="order-orderDate" type="text" class="form-control"
                           disabled>
                    <label>Payment date:</label>
                    <input id="order-paymentDate" type="text" class="form-control"
                           disabled>
                    <label>Completed date:</label>
                    <input id="order-completedDate" type="text" class="form-control"
                           disabled>

                </div>
            <% } %>
            <!--        <button type="submit" class="btn btn-primary">Submit</button>-->
        </form>
    </div>
</div>

<script src="../../../script/user/detail.js"></script>
</body>
</html>
